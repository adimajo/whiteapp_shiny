<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WhiteApp R Shiny • WhiteAppRShiny</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="WhiteApp R Shiny">
<meta property="og:description" content="Whiteapp de déploiement d'applications R Shiny sur le(s) serveur(s)
  Kubernetes du Groupe Crédit Agricole.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">WhiteAppRShiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<p><a href="https://codecov.io/github/adimajo/whiteapp_shiny?branch=master" class="external-link"><img src="https://codecov.io/gh/adimajo/whiteapp_shiny/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://gitlab.com/adimajo/whiteapp_shiny/-/commits/master" class="external-link"><img src="https://gitlab.com/adimajo/whiteapp_shiny/badges/master/coverage.svg" alt="coverage report"></a></p>
<div class="section level1">
<div class="page-header"><h1 id="whiteapp-r-shiny">WhiteApp R Shiny<a class="anchor" aria-label="anchor" href="#whiteapp-r-shiny"></a>
</h1></div>
<p>The <code>WhiteApp</code> package / shiny app is a template of a simple Shiny app which displays current versions of R and installed packages. All functions necessary to the app are created in an R package to keep things tidy and well documented (thus using the standard tools for R packages), making the Shiny ui / server scripts merely executors of functions defined in the <code>WhiteApp</code> package. The template ships with a Gitlab CI pipeline (which lints the code, builds the package, document it, runs CRAN checks, tests, computes test coverage, checks on rhub on different platforms as well as on Sonarqube, builds a docker container and deploys it), a Github Actions pipeline (which lints, documents and upload the documentation as github page, checks the package, computes tests and coverage, checks on rhbub for different platforms, builds a docker container and uploads it to Github), and a Travis pipeline (for elegant display of code coverage).</p>
<div class="section level2">
<h2 id="sonarcloud">Sonarcloud<a class="anchor" aria-label="anchor" href="#sonarcloud"></a>
</h2>
<p>If you want to leverage the static code analysis (and nice display!) provided by Sonarcloud, link your Github account to Sonarcloud at <a href="https://sonarcloud.io/" class="external-link">sonarcloud.io</a>.</p>
</div>
<div class="section level2">
<h2 id="using-the-github-actions-pipeline">Using the Github Actions pipeline<a class="anchor" aria-label="anchor" href="#using-the-github-actions-pipeline"></a>
</h2>
<p>Nothing to do! If you import your project in Sonarcloud, it will automatically trigger its analysis at each push (see “SonarCloud Automatic Analysis” under Administration &gt; Analysis Method).</p>
<div class="section level3">
<h3 id="secrets">Secrets<a class="anchor" aria-label="anchor" href="#secrets"></a>
</h3>
<p>One Github Secret needs to be set:</p>
<p>RHUB_TOKEN: the token associated with the package’s maintainer’s email address, validated via <code><a href="https://r-hub.github.io/rhub/reference/validate_email.html" class="external-link">rhub::validate_email()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="using-the-gitlab-ci-pipeline">Using the Gitlab CI pipeline<a class="anchor" aria-label="anchor" href="#using-the-gitlab-ci-pipeline"></a>
</h2>
<div class="section level3">
<h3 id="variables">Variables<a class="anchor" aria-label="anchor" href="#variables"></a>
</h3>
<p>Set the following environment variables in Gitlab’s UI under Settings &gt; CI/CD. These are not hardcoded into the pipeline since I use the same pipeline at Crédit Agricole S.A. with our own instances of Gitlab, Gitlab runners, Sonar, etc.</p>
<p>If you wish to deploy on Dockerhub, you should have a repository set up with the same name as your repository.</p>
<ul>
<li>
<code>CURRENT_TAG</code>: the tag of an available public Gitlab runner, e.g. <code>docker</code>
</li>
<li>
<code>PYPI_REMOTE</code>: the URL to your favorite PyPi remote, e.g. <code>https://pypi.org/simple</code>
</li>
<li>
<code>SONAR_HOST_URL</code>: <code>https://sonarcloud.io/</code>
</li>
<li>
<code>SONAR_TOKEN</code>: you can obtain this token by logging in to <a href="https://sonarcloud.io/" class="external-link">sonarcloud.io</a> and generating a key.</li>
<li>
<code>DOCKER_CI_REGISTRY</code>: the Docker registry on which to upload the image, e.g. index.docker.io or registry.gitlab.com</li>
<li>
<code>DOCKER_CI_REGISTRY_USER</code>: your registry username, e.g. Gitlab or Dockerhub username</li>
<li>
<code>DOCKER_CI_REGISTRY_PASSWORD</code>: your registry password (or access token), e.g. Gitlab or Dockerhub username</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="using-the-travis-pipeline">Using the Travis pipeline<a class="anchor" aria-label="anchor" href="#using-the-travis-pipeline"></a>
</h2>
<p>Connect to <a href="https://app.travis-ci.com/" class="external-link">app.travis-ci.com</a> and <a href="https://app.codecov.io" class="external-link">app.codecov.io</a> to connect your repo.</p>
<p>The pipeline installs devtools, the dependencies of the application, documents it, checks it, computes code coverage and sends it to <a href="https://app.codecov.io" class="external-link">app.codecov.io</a> to display it nicely on this README.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="section level3">
<h3 id="r-environment">R environment<a class="anchor" aria-label="anchor" href="#r-environment"></a>
</h3>
<p>This projects uses <strong>R 4.0</strong> and <strong>renv</strong>.</p>
<p>Dependencies are stated in the DESCRIPTION file, as well as, with their versions, in <code>renv.lock</code>.</p>
<p>To use this template and / or make contributions, you should install <code>renv</code> (e.g. via <code>install.packages('renv')</code>) which will in turn automatically install packages from <code>renv.lock</code> by sourcing <code>renv/activate.R</code>.</p>
<p>If this didn’t go well, use <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="local-installation-w-o--internet-access">“Local” installation w.o. internet access<a class="anchor" aria-label="anchor" href="#local-installation-w-o--internet-access"></a>
</h3>
<div class="section level4">
<h4 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h4>
<p>All dependencies are downloaded into the <code>renv/library</code> folder, which allows for installation on an internet-free machine (provided ~identical configuration, i.e. same R version same architecture if there are compiled packages, etc.).</p>
</div>
<div class="section level4">
<h4 id="r-portable">R-portable<a class="anchor" aria-label="anchor" href="#r-portable"></a>
</h4>
<p>It is also possible to get a portable version of R, <a href="https://sourceforge.net/projects/rportable/" class="external-link">downloadable from Sourceforge</a>.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>Supported by Groupe Crédit Agricole; analyses and opinions of the author(s) expressed in this work are their own.</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing WhiteAppRShiny</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li> GRO <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/adimajo/whiteapp_shiny/actions/workflows/r-shiny.yml" class="external-link"><img src="https://github.com/adimajo/whiteapp_shiny/actions/workflows/r-shiny.yml/badge.svg" alt="R Shiny docker"></a></li>
<li><a href="https://app.travis-ci.com/adimajo/whiteapp_shiny" class="external-link"><img src="https://app.travis-ci.com/adimajo/whiteapp_shiny.svg?token=opB6ydhp1rfhZkQiU4AY&amp;branch=master" alt="Build Status"></a></li>
<li><a href="https://gitlab.com/adimajo/whiteapp_shiny/-/commits/master" class="external-link"><img src="https://gitlab.com/adimajo/whiteapp_shiny/badges/master/pipeline.svg" alt="pipeline status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by GRO.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
